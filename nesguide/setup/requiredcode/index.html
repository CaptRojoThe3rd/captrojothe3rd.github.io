<!DOCTYPE html>
<head>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<div class="top-area" style="height: 150px;">
		<div class="title">
			<p>
				The website of CaptRojoThe3rd
			</p>
		</div>
		<div id="chrome-height-adjust" style="height: 0px;"></div>
		<div class="subtitle-adjust">
			<div class="normal-centered-text">
				<p>
					eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
				</p>
			</div>
			<div style="width: 50%; margin: auto; margin-top: -20px;">
				<center>
					<button class="top-area-button" onclick="window.location.href='https://captrojothe3rd.github.io'">Home</button>
					<button class="top-area-button" onclick="window.location.href='https://captrojothe3rd.github.io/calculators'">Calculators</button>
					<button class="top-area-button" onclick="window.location.href='https://captrojothe3rd.github.io/nesguide'">NES Programming</button>
				</center>
			</div>
		</div>
	</div>

	<div class="side-area">
		<br>
		<!-- Title -->
		<p style="line-height: 10px; margin-top: 10px; font-size: 20px; margin-left: 10px;">NES Programming Guide</p>
			<!--1 - Software-->
			<a href="/nesguide/software" style="font-size: 16px; margin-left: 30px;">1 - Software</a>
			<br>
				<!--1.1 - CA65-->
				<a href="/nesguide/software/ca65" style="font-size: 16px; margin-left: 50px;">1.1 - CA65</a>
				<br>
				<!--1.2 - VSCode-->
				<a href="/nesguide/software/vscode" style="font-size: 16px; margin-left: 50px;">1.2 - VSCode</a>
				<br>
				<!--1.3 - YYCHR-->
				<a href="/nesguide/software/yychr" style="font-size: 16px; margin-left: 50px;">1.3 - YYCHR</a>
				<br>
				<!--1.4 - NES Emulator-->
				<a href="/nesguide/software/emulator" style="font-size: 16px; margin-left: 50px;">1.4 - NES Emulator</a>
				<br>
				<!--1.5 - Hex Editor-->
				<a href="/nesguide/software/hex" style="font-size: 16px; margin-left: 50px;">1.5 - Hex Editor</a>
				<br>
				<!--1.6 - Python-->
				<a href="/nesguide/software/python" style="font-size: 16px; margin-left: 50px;">1.6 - Python</a>
				<br>
			<!--2 - Setup-->
			<a href="/nesguide/setup" style="font-size: 16px; margin-left: 30px;">2 - Setup</a>
			<br>
				<!--2.1 - Required Code-->
				<a href="/nesguide/setup/requiredcode" style="font-size: 16px; margin-left: 50px;">2.1 - Required Code</a>
				<br>
				<!--2.2 - Adding CHR-ROM Data-->
				<a href="/nesguide/setup/chrrom" style="font-size: 16px; margin-left: 50px;">2.2 - Adding CHR-ROM Data</a>
				<br>
				<!--2.3 - Build Task-->
				<a href="/nesguide/setup/buildtask" style="font-size: 16px; margin-left: 50px;">2.3 - Build Task</a>
				<br>
			<!--3 - 6502 Assembly-->
			<a href="/nesguide/6502assembly" style="font-size: 16px; margin-left: 30px;">3 - 6502 Assembly</a>
			<br>
				<!--3.1 - CA65 Features-->
				<a href="/nesguide/6502assembly/ca65features" style="font-size: 16px; margin-left: 50px;">3.1 - CA65 Features</a>
				<br>
				<!--3.2 - Load/Store Instructions-->
				<a href="/nesguide/6502assembly/loadstore" style="font-size: 16px; margin-left: 50px;">3.2 - Load/Store Instructions</a>
				<br>
				<!--3.3 - Arithmetic Instructions-->
				<a href="/nesguide/6502assembly/arithmetic" style="font-size: 16px; margin-left: 50px;">3.3 - Arithmetic Instructions</a>
				<br>
				<!--3.4 - Comparison Instructions-->
				<a href="/nesguide/6502assembly/comparison" style="font-size: 16px; margin-left: 50px;">3.4 - Comparison Instructions</a>
				<br>
				<!--3.5 - Jump/Branching Instructions-->
				<a href="/nesguide/6502assembly/jumpbranching" style="font-size: 16px; margin-left: 50px;">3.5 - Jump/Branching Instructions</a>
				<br>
				<!--3.6 - Register/Flag Instructions-->
				<a href="/nesguide/6502assembly/registerflag" style="font-size: 16px; margin-left: 50px;">3.6 - Register/Flag Instructions</a>
				<br>
				<!--3.7 - Stack Instructions-->
				<a href="/nesguide/6502assembly/stack" style="font-size: 16px; margin-left: 50px;">3.7 - Stack Instructions</a>
				<br>
				<!--3.8 - Illegal Instructions-->
				<a href="/nesguide/6502assembly/illegal" style="font-size: 16px; margin-left: 50px;">3.8 - Illegal Instructions</a>
				<br>
			<!--4 - NES Hardware-->
			<a href="/nesguide/hardware" style="font-size: 16px; margin-left: 30px;">4 - NES Hardware</a>
			<br>
				<!--4.1 - Memory Layout-->
				<a href="/nesguide/hardware/memorylayout" style="font-size: 16px; margin-left: 50px;">4.1 - Memory Layout</a>
				<br>
				<!--4.2 - CPU Registers-->
				<a href="/nesguide/hardware/cpuregisters" style="font-size: 16px; margin-left: 50px;">4.2 - CPU Registers</a>
				<br>
				<!--4.3 - PPU Registers-->
				<a href="/nesguide/hardware/ppuregisters" style="font-size: 16px; margin-left: 50px;">4.3 - PPU Registers</a>
				<br>
			<!--5 - Graphics-->
			<a href="/nesguide/graphics" style="font-size: 16px; margin-left: 30px;">5 - Graphics</a>
			<br>
				<!--5.1 - Editing CHR-ROM-->
				<a href="/nesguide/graphics/editingchrrom" style="font-size: 16ppx; margin-left: 50px;">5.1 - Editing CHR-ROM</a>
				<br>
				<!--5.2 - Palettes-->
				<a href="/nesguide/graphics/palettes" style="font-size: 16px; margin-left: 50px;">5.2 - Palettes</a>
				<br>
				<!--5.3 - Background Tiles-->
				<a href="/nesguide/graphics/bgtiles" style="font-size: 16px; margin-left: 50px;">5.3 - Background Tiles</a>
				<br>
				<!--5.4 - Sprites-->
				<a href="/nesguide/graphics/sprites" style="font-size: 16px; margin-left: 50px;">5.4 - Sprites</a>
				<br>
				<!--5.5 - OAM DMA-->
				<a href="/nesguide/graphics/oamdma" style="font-size: 16px; margin-left: 50px;">5.5 - OAM DMA</a>
				<br>
				<!--5.6 - Scrolling-->
				<a href="/nesguide/graphics/scrolling" style="font-size: 16px; margin-left: 50px;">5.6 - Scrolling</a>
				<br>
				<!--5.7 - Sprite 0-->
				<a href="/nesguide/graphics/spritezero" style="font-size: 16px; margin-left: 50px;">5.7 - Sprite 0</a>
				<br>
			<!--6 - Audio-->
			<a href="/nesguide/audio" style="font-size: 16px; margin-left: 30px;">6 - Audio</a>
			<br>
				<!--6.1 - Square Channels-->
				<a href="/nesguide/audio/square" style="font-size: 16px; margin-left: 50px;">6.1 - Square Channels</a>
				<br>
				<!--6.2 - Triangle Channel-->
				<a href="/nesguide/audio/triangle" style="font-size: 16px; margin-left: 50px;">6.2 - Triangle Channel</a>
				<br>
				<!--6.3 - Noise Channel-->
				<a href="/nesguide/audio/noise" style="font-size: 16px; margin-left: 50px;">6.3 - Noise Channel</a>
				<br>
				<!--6.4 - DPCM-->
				<a href="/nesguide/audio/dpcm" style="font-size: 16px; margin-left: 50px;">6.4 - DPCM</a>
				<br>
			<!--7 - Input-->
			<a href="/nesguide/input" style="font-size: 16px; margin-left: 30px;">7 - Input</a>
			<br>
				<!--7.1 - 1/2 Controllers-->
				<a href="/nesguide/input/singlecontroller" style="font-size: 16px; margin-left: 50px;">7.1 - 1/2 Controllers</a>
				<br>
				<!--7.2 - 3/4 Controllers Using Four Score-->
				<a href="/nesguide/input/fourscore" style="font-size: 16px; margin-left: 50px;">7.2 - 3/4 Controllers Using Four Score</a>
				<br>
				<!--7.3 - Zapper Gun-->
				<a href="/nesguide/input/zappergun" style="font-size: 16px; margin-left: 50px;">7.3 - Zapper Gun</a>
				<br>
				<!--7.4 - Family Basic Keyboard-->
				<a href="/nesguide/input/familybasickeyboard" style="font-size: 16px; margin-left: 50px;">7.4 - Family Basic Keyboard</a>
				<br>
				<!--7.5 - Power Pad-->
				<a href="/nesguide/input/powerpad" style="font-size: 16px; margin-left: 50px;">7.5 - Power Pad</a>
				<br>
			<!--8 - Mappers-->
			<a href="/nesguide/mappers" style="font-size: 16px; margin-left: 30px;">8 - Mappers</a>
			<br>
				<!--8.1 - MMC1-->
				<a href="/nesguide/mappers/mmc1" style="font-size: 16px; margin-left: 50px;">8.1 - MMC1</a>
				<br>
				<!--8.2 - MMC3-->
				<a href="/nesguide/mappers/mmc3" style="font-size: 16px; margin-left: 50px;">8.2 - MMC3</a>
				<br>
				<!--8.3 - MMC5-->
				<a href="/nesguide/mappers/mmc5" style="font-size: 16px; margin-left: 50px;">8.3 - MMC5</a>
				<br>
	</div>

	<div class="main-area">
		<p>
			There is some code that is required for an NES game.
			<br>
			<br>
			First, create a file called "main.s"
		</p>
		<img src="createmain.png" alt="Create main.s">
		<br>
		<br>
		<p>
			Start by writing the following code:
		</p>
		<br>
		<p class="code">
			.segment "PRG"
		</p>
		<br>
		<p class="code">
			Reset:
		</p>
		<p class="code" style="text-indent: 56px;">
			jmp Reset
		</p>
		<p class="code">
			NMI:
		</p>
		<p class="code" style="text-indent: 56px;">
			rti
		</p>
		<p class="code">
			IRQ:
		</p>
		<p class="code" style="text-indent: 56px;">
			rti
		</p>
		<br>
		<p class="code">
			.segment "VECTORS"
		</p>
		<p class="code" style="text-indent: 56px;">
			.word NMI
		</p>
		<p class="code" style="text-indent: 56px;">
			.word Reset
		</p>
		<p class="code" style="text-indent: 56px;">
			.word IRQ
		</p>
		<br>
		<p>
			Then, you need to create an iNES header. You should actually probably use NES 2.0, but both work.
			<br>
			An easy way to do this is to open any game in your emulator, and open the NES header editor.
			<br>
			This guide will use NROM, which doesn't have any special/fancy mappers.
		</p>
		<img src="headereditor.png" alt="Mesen NES Header Editor">
		<br>
		<br>
		<p>
			Next, you can add the header to "main.s"
		</p>
		<br>
		<p class="code">
			.segment "HEADER"
		</p>
		<p class="code" style="text-indent: 56px;">
			.byte $4e, $45, $53, $1a
		</p>
		<p class="code" style="text-indent: 56px;">
			.byte $02, $01, $01, $08
		</p>
		<p class="code" style="text-indent: 56px;">
			.byte $00, $00, $00, $00
		</p>
		<p class="code" style="text-indent: 56px;">
			.byte $00, $00, $00, $00
		</p>
		<br>
		<br>
		<p>
			Next, you will need to create a layout file for the assembler.
			<br>
			Create a file called "layout.cfg"
		</p>
		<img src="createlayout.png" alt="Create layout.cfg">
		<br>
		<br>
		<p>
			The layout file tells the assembler where and how to put the assembled code and other data for your NES game.
			<br>
			A .NES file's data is stored in this order: iNES/NES 2.0 Header, PRG-ROM, CHR-ROM. Add this code to the "layout.cfg" file:
		</p>
		<br>
		<p class="code">
			MEMORY {
		</p>
		<p class="code" style="text-indent: 56px;">
			HEADER: start = $0, size = $10, file = %O, fill = yes;
		</p>
		<p class="code" style="text-indent: 56px;">
			PRG: start = $8000, size = $8000, file = %O, fill = yes;
		</p>
		<p class="code" style="text-indent: 56px;">
			CHR: start = $0000, size = $2000, file = %O, fill = yes;
		</p>
		<p class="code">
			}
			<br>
			<br>
			SEGMENTS {
		</p>
		<p class="code" style="text-indent: 56px;">
			HEADER: load = HEADER, type = ro;
		</p>
		<p class="code" style="text-indent: 56px;">
			PRG: load = PRG, type = ro;
		</p>
		<p class="code" style="text-indent: 56px;">
			VECTORS: load = PRG, type = ro, start = $fffa;
		</p>
		<p class="code" style="text-indent: 56px;">
			CHR: load = CHR, type = ro, optional = yes;
		</p>
		<p class="code">
			}
		</p>
		<br>
		<br>
		<p>
			Finally, we can create "compile.bat" - running this will build your NES game.
			<br>
			Create a file called "compile.bat"
		</p>
		<img src="createcompilebuild.png" alt="Create compile.bat and build\">
		<br>
		<br>
		<p>
			Next, you can add the following code to "compile.bat"
		</p>
		<br>
		<p class="code">
			@echo off
			<br>
			<br>
			set name="ExampleNESGame"
			<br>
			<br>
			set path=%path%;..\bin\
			<br>
			set CC65_HOME=..\
			<br>
			<br>
			c:\cc65\bin\ca65 main.s --cpu 6502x
			<br>
			c:\cc65\bin\ld65 -C layout.cfg -o "%name%.nes" main.o
			<br>
			<br>
			del *.o
			<br>
			<br>
			%name%.nes
		</p>
		<br>
		<br>
		<p>
			This script will not only assemble your game, but it will also automatically run it. You can run this file it should create a .NES file and open it.
			<br>
			<br>
			When the file runs, the emulator should open, and the game will do nothing, repeatedly jumping execution to $8000, with a solid color on the screen.
		</p>
		<img src="functionalgame.png" alt="The game is functional" style="width: 959px; height: 512px;">
	</div>
</body>
